{"/Users/rmainier/Documents/u/pokemon/pokemon-backend/src/controllers/pokemon-controller.ts":{"path":"/Users/rmainier/Documents/u/pokemon/pokemon-backend/src/controllers/pokemon-controller.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":35}},"2":{"start":{"line":4,"column":28},"end":{"line":4,"column":70}},"3":{"start":{"line":5,"column":25},"end":{"line":5,"column":70}},"4":{"start":{"line":6,"column":24},"end":{"line":6,"column":65}},"5":{"start":{"line":7,"column":17},"end":{"line":7,"column":45}},"6":{"start":{"line":8,"column":26},"end":{"line":8,"column":64}},"7":{"start":{"line":11,"column":24},"end":{"line":11,"column":69}},"8":{"start":{"line":12,"column":23},"end":{"line":12,"column":74}},"9":{"start":{"line":13,"column":8},"end":{"line":16,"column":11}},"10":{"start":{"line":19,"column":8},"end":{"line":32,"column":9}},"11":{"start":{"line":20,"column":12},"end":{"line":20,"column":93}},"12":{"start":{"line":21,"column":27},"end":{"line":21,"column":78}},"13":{"start":{"line":22,"column":12},"end":{"line":28,"column":13}},"14":{"start":{"line":23,"column":16},"end":{"line":23,"column":117}},"15":{"start":{"line":26,"column":16},"end":{"line":26,"column":70}},"16":{"start":{"line":27,"column":16},"end":{"line":27,"column":102}},"17":{"start":{"line":31,"column":12},"end":{"line":31,"column":104}},"18":{"start":{"line":35,"column":8},"end":{"line":44,"column":9}},"19":{"start":{"line":36,"column":12},"end":{"line":36,"column":97}},"20":{"start":{"line":37,"column":12},"end":{"line":38,"column":106}},"21":{"start":{"line":38,"column":16},"end":{"line":38,"column":106}},"22":{"start":{"line":39,"column":12},"end":{"line":39,"column":75}},"23":{"start":{"line":40,"column":12},"end":{"line":40,"column":84}},"24":{"start":{"line":43,"column":12},"end":{"line":43,"column":104}},"25":{"start":{"line":47,"column":24},"end":{"line":47,"column":76}},"26":{"start":{"line":48,"column":8},"end":{"line":48,"column":58}},"27":{"start":{"line":51,"column":8},"end":{"line":76,"column":9}},"28":{"start":{"line":52,"column":12},"end":{"line":52,"column":99}},"29":{"start":{"line":53,"column":27},"end":{"line":53,"column":78}},"30":{"start":{"line":54,"column":12},"end":{"line":72,"column":13}},"31":{"start":{"line":55,"column":16},"end":{"line":55,"column":141}},"32":{"start":{"line":58,"column":48},"end":{"line":58,"column":56}},"33":{"start":{"line":59,"column":32},"end":{"line":59,"column":84}},"34":{"start":{"line":60,"column":32},"end":{"line":60,"column":84}},"35":{"start":{"line":61,"column":32},"end":{"line":61,"column":84}},"36":{"start":{"line":61,"column":59},"end":{"line":61,"column":83}},"37":{"start":{"line":62,"column":16},"end":{"line":71,"column":17}},"38":{"start":{"line":63,"column":20},"end":{"line":63,"column":110}},"39":{"start":{"line":64,"column":20},"end":{"line":67,"column":23}},"40":{"start":{"line":70,"column":20},"end":{"line":70,"column":90}},"41":{"start":{"line":75,"column":12},"end":{"line":75,"column":104}},"42":{"start":{"line":79,"column":23},"end":{"line":79,"column":74}},"43":{"start":{"line":80,"column":8},"end":{"line":86,"column":9}},"44":{"start":{"line":81,"column":12},"end":{"line":81,"column":100}},"45":{"start":{"line":84,"column":12},"end":{"line":84,"column":103}},"46":{"start":{"line":85,"column":12},"end":{"line":85,"column":83}},"47":{"start":{"line":89,"column":8},"end":{"line":104,"column":9}},"48":{"start":{"line":90,"column":12},"end":{"line":90,"column":94}},"49":{"start":{"line":91,"column":27},"end":{"line":91,"column":78}},"50":{"start":{"line":92,"column":12},"end":{"line":100,"column":13}},"51":{"start":{"line":94,"column":16},"end":{"line":94,"column":102}},"52":{"start":{"line":97,"column":16},"end":{"line":97,"column":107}},"53":{"start":{"line":98,"column":16},"end":{"line":98,"column":71}},"54":{"start":{"line":99,"column":16},"end":{"line":99,"column":80}},"55":{"start":{"line":103,"column":12},"end":{"line":103,"column":104}},"56":{"start":{"line":107,"column":0},"end":{"line":107,"column":46}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":10,"column":4},"end":{"line":10,"column":5}},"loc":{"start":{"line":10,"column":43},"end":{"line":17,"column":5}},"line":10},"1":{"name":"(anonymous_1)","decl":{"start":{"line":18,"column":4},"end":{"line":18,"column":5}},"loc":{"start":{"line":18,"column":48},"end":{"line":33,"column":5}},"line":18},"2":{"name":"(anonymous_2)","decl":{"start":{"line":34,"column":4},"end":{"line":34,"column":5}},"loc":{"start":{"line":34,"column":43},"end":{"line":45,"column":5}},"line":34},"3":{"name":"(anonymous_3)","decl":{"start":{"line":46,"column":4},"end":{"line":46,"column":5}},"loc":{"start":{"line":46,"column":46},"end":{"line":49,"column":5}},"line":46},"4":{"name":"(anonymous_4)","decl":{"start":{"line":50,"column":4},"end":{"line":50,"column":5}},"loc":{"start":{"line":50,"column":45},"end":{"line":77,"column":5}},"line":50},"5":{"name":"(anonymous_5)","decl":{"start":{"line":61,"column":46},"end":{"line":61,"column":47}},"loc":{"start":{"line":61,"column":59},"end":{"line":61,"column":83}},"line":61},"6":{"name":"(anonymous_6)","decl":{"start":{"line":78,"column":4},"end":{"line":78,"column":5}},"loc":{"start":{"line":78,"column":43},"end":{"line":87,"column":5}},"line":78},"7":{"name":"(anonymous_7)","decl":{"start":{"line":88,"column":4},"end":{"line":88,"column":5}},"loc":{"start":{"line":88,"column":40},"end":{"line":105,"column":5}},"line":88}},"branchMap":{"0":{"loc":{"start":{"line":22,"column":12},"end":{"line":28,"column":13}},"type":"if","locations":[{"start":{"line":22,"column":12},"end":{"line":28,"column":13}},{"start":{"line":22,"column":12},"end":{"line":28,"column":13}}],"line":22},"1":{"loc":{"start":{"line":31,"column":50},"end":{"line":31,"column":102}},"type":"binary-expr","locations":[{"start":{"line":31,"column":50},"end":{"line":31,"column":65}},{"start":{"line":31,"column":69},"end":{"line":31,"column":102}}],"line":31},"2":{"loc":{"start":{"line":37,"column":12},"end":{"line":38,"column":106}},"type":"if","locations":[{"start":{"line":37,"column":12},"end":{"line":38,"column":106}},{"start":{"line":37,"column":12},"end":{"line":38,"column":106}}],"line":37},"3":{"loc":{"start":{"line":43,"column":50},"end":{"line":43,"column":102}},"type":"binary-expr","locations":[{"start":{"line":43,"column":50},"end":{"line":43,"column":65}},{"start":{"line":43,"column":69},"end":{"line":43,"column":102}}],"line":43},"4":{"loc":{"start":{"line":54,"column":12},"end":{"line":72,"column":13}},"type":"if","locations":[{"start":{"line":54,"column":12},"end":{"line":72,"column":13}},{"start":{"line":54,"column":12},"end":{"line":72,"column":13}}],"line":54},"5":{"loc":{"start":{"line":62,"column":16},"end":{"line":71,"column":17}},"type":"if","locations":[{"start":{"line":62,"column":16},"end":{"line":71,"column":17}},{"start":{"line":62,"column":16},"end":{"line":71,"column":17}}],"line":62},"6":{"loc":{"start":{"line":62,"column":20},"end":{"line":62,"column":68}},"type":"binary-expr","locations":[{"start":{"line":62,"column":20},"end":{"line":62,"column":27}},{"start":{"line":62,"column":31},"end":{"line":62,"column":57}},{"start":{"line":62,"column":61},"end":{"line":62,"column":68}}],"line":62},"7":{"loc":{"start":{"line":75,"column":50},"end":{"line":75,"column":102}},"type":"binary-expr","locations":[{"start":{"line":75,"column":50},"end":{"line":75,"column":65}},{"start":{"line":75,"column":69},"end":{"line":75,"column":102}}],"line":75},"8":{"loc":{"start":{"line":80,"column":8},"end":{"line":86,"column":9}},"type":"if","locations":[{"start":{"line":80,"column":8},"end":{"line":86,"column":9}},{"start":{"line":80,"column":8},"end":{"line":86,"column":9}}],"line":80},"9":{"loc":{"start":{"line":92,"column":12},"end":{"line":100,"column":13}},"type":"if","locations":[{"start":{"line":92,"column":12},"end":{"line":100,"column":13}},{"start":{"line":92,"column":12},"end":{"line":100,"column":13}}],"line":92},"10":{"loc":{"start":{"line":92,"column":16},"end":{"line":93,"column":65}},"type":"binary-expr","locations":[{"start":{"line":92,"column":16},"end":{"line":92,"column":65}},{"start":{"line":93,"column":16},"end":{"line":93,"column":65}}],"line":92},"11":{"loc":{"start":{"line":103,"column":50},"end":{"line":103,"column":102}},"type":"binary-expr","locations":[{"start":{"line":103,"column":50},"end":{"line":103,"column":65}},{"start":{"line":103,"column":69},"end":{"line":103,"column":102}}],"line":103}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":3,"11":3,"12":2,"13":2,"14":1,"15":1,"16":1,"17":1,"18":2,"19":2,"20":1,"21":1,"22":1,"23":1,"24":1,"25":1,"26":1,"27":4,"28":4,"29":3,"30":3,"31":1,"32":2,"33":2,"34":2,"35":2,"36":2,"37":2,"38":1,"39":1,"40":1,"41":1,"42":2,"43":2,"44":1,"45":1,"46":1,"47":3,"48":3,"49":2,"50":2,"51":1,"52":1,"53":1,"54":1,"55":1,"56":1},"f":{"0":1,"1":3,"2":2,"3":1,"4":4,"5":2,"6":2,"7":3},"b":{"0":[1,1],"1":[1,0],"2":[1,0],"3":[1,0],"4":[1,2],"5":[1,1],"6":[2,2,2],"7":[1,0],"8":[1,1],"9":[1,1],"10":[2,1],"11":[1,0]},"inputSourceMap":{"version":3,"file":"/Users/rmainier/Documents/u/pokemon/pokemon-backend/src/controllers/pokemon-controller.ts","sources":["/Users/rmainier/Documents/u/pokemon/pokemon-backend/src/controllers/pokemon-controller.ts"],"names":[],"mappings":"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","sourcesContent":["import { Request, Response } from \"express\";\nimport {\n  EditPokemonLifeSchema,\n  FinishBattleSchema,\n  SavePokemonSchema,\n  SendPokemonAttackSchema,\n} from \"../validators/pokemon-validator\";\nimport { VALIDATION_ERROR } from \"../common/constants/text-constants\";\nimport { PokemonStatus } from \"../common/models/pokemon-model\";\nimport { logResponse } from \"../helpers/logger\";\nimport { PokemonService } from \"../services/pokemon-service\";\n\nexport class PokemonController {\n\n  static async getPokemonInfo(_req: Request, res: Response) {\n    const pokemon = PokemonService.getPokemon();\n    const status = PokemonService.getPokemonStatus();\n    logResponse(res, true, \"\", {\n      ...pokemon,\n      status,\n    });\n  }\n\n  static async setPokemonAttributes(req: Request, res: Response) {\n    try {\n      await SavePokemonSchema.validate(req.body, { strict: true });\n\n      const status = PokemonService.getPokemonStatus();\n      if (status !== PokemonStatus.Available) {\n        logResponse(\n          res,\n          false,\n          `Pokemon attributes cannot be set because it is in a battle.`\n        );\n      } else {\n        PokemonService.setPokemon(req.body);\n        logResponse(res, true, `${req.body.name} attributes set successfully.`);\n      }\n    } catch (error: any) {\n      logResponse(res, false, error.errors[0] || VALIDATION_ERROR);\n    }\n  }\n\n  static async editPokemonLife(req: Request, res: Response) {\n    try {\n      await EditPokemonLifeSchema.validate(req.body, { strict: true });\n\n      if (req.body.life === 0) PokemonService.setPokemonStatus(PokemonStatus.Defeated);\n      PokemonService.setPokemonLife(req.body.life);\n      logResponse(res, true, \"Pokemon life has been modified.\");\n    } catch (error: any) {\n      logResponse(res, false, error.errors[0] || VALIDATION_ERROR);\n    }\n  }\n\n  static async getPokemonEnemies(_req: Request, res: Response) {\n    const enemies = PokemonService.getPokemonEnemies();\n    logResponse(res, true, \"\", enemies);\n  }\n\n  static async sendPokemonAttack(req: Request, res: Response) {\n    try {\n      await SendPokemonAttackSchema.validate(req.body, { strict: true });\n\n     const status = PokemonService.getPokemonStatus();\n      if (status !== PokemonStatus.Attacking) {\n        logResponse(\n          res,\n          false,\n          `Pokemon is not ${PokemonStatus.Attacking}. Pokemon is: '${status}'.`\n        );\n      } else {\n        const { attackId, pokemonId } = req.body;\n        const attacks = PokemonService.getPokemonAttacks();\n        const enemies = PokemonService.getPokemonEnemies();\n        const pokemon = enemies?.find(\n          (pokemon) => pokemon.id === pokemonId\n        );\n\n        if (attacks && attacks.length >= attackId && pokemon) {\n          PokemonService.setPokemonStatus(PokemonStatus.InBattle);\n          logResponse(res, true, \"Pokemon Attack send successfully.\", {\n            attack: attacks[attackId - 1],\n            pokemon,\n          });\n        } else {\n          logResponse(res, false, \"Pokemon or Attack not valid.\");\n        }\n      }\n    } catch (error: any) {\n      logResponse(res, false, error.errors[0] || VALIDATION_ERROR);\n    }\n  }\n\n  static async initializeTurn(_req: Request, res: Response) {\n    const status = PokemonService.getPokemonStatus();\n    if (status !== PokemonStatus.InBattle) {\n      logResponse(res, false, `Error initializing turn. Pokemon is: ${status}`);\n    } else {\n      PokemonService.setPokemonStatus(PokemonStatus.Attacking);\n      logResponse(res, true, \"Turn initialized successfully.\");\n    }\n  }\n\n  static async finishBattle(req: Request, res: Response) {\n    try {\n      await FinishBattleSchema.validate(req.body, { strict: true });\n      const status = PokemonService.getPokemonStatus();\n      if (\n        status !== PokemonStatus.InBattle &&\n        status !== PokemonStatus.Defeated\n      ) {\n        logResponse(res, false, `Error resting Pokemon. Pokemon is: ${status}`);\n      } else {\n        PokemonService.setPokemonStatus(PokemonStatus.Available);\n        PokemonService.setPokemonEnemies([]);\n        logResponse(res, true, \"Pokemon has been reset.\");\n      }\n    } catch (error: any) {\n      logResponse(res, false, error.errors[0] || VALIDATION_ERROR);\n    }\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"e6f893b88b30693a16e818829c9a920550168d1d","contentHash":"f5d86ead7a2059a6fc4bfa497ec4e55e8b1ba4304862b66e4c49f2d3273dfe33"},"/Users/rmainier/Documents/u/pokemon/pokemon-backend/src/validators/pokemon-validator.ts":{"path":"/Users/rmainier/Documents/u/pokemon/pokemon-backend/src/validators/pokemon-validator.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":130}},"2":{"start":{"line":4,"column":14},"end":{"line":4,"column":28}},"3":{"start":{"line":5,"column":24},"end":{"line":5,"column":65}},"4":{"start":{"line":6,"column":19},"end":{"line":6,"column":66}},"5":{"start":{"line":7,"column":19},"end":{"line":7,"column":99}},"6":{"start":{"line":8,"column":20},"end":{"line":8,"column":66}},"7":{"start":{"line":9,"column":21},"end":{"line":12,"column":2}},"8":{"start":{"line":13,"column":0},"end":{"line":18,"column":3}},"9":{"start":{"line":19,"column":0},"end":{"line":21,"column":3}},"10":{"start":{"line":22,"column":0},"end":{"line":25,"column":3}},"11":{"start":{"line":26,"column":0},"end":{"line":28,"column":3}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"/Users/rmainier/Documents/u/pokemon/pokemon-backend/src/validators/pokemon-validator.ts","sources":["/Users/rmainier/Documents/u/pokemon/pokemon-backend/src/validators/pokemon-validator.ts"],"names":[],"mappings":";;;AACA,6BAA6D;AAC7D,kEAA6D;AAE7D,MAAM,UAAU,GAAG,IAAA,YAAM,GAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,QAAQ,EAAE,CAAC;AACxD,MAAM,UAAU,GAAG,IAAA,YAAM,GAAE,CAAC,QAAQ,EAAE,CAAC,KAAK,CAAC,MAAM,CAAC,MAAM,CAAC,2BAAW,CAAC,CAAC,CAAC;AACzE,MAAM,WAAW,GAAG,IAAA,YAAM,GAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,QAAQ,EAAE,CAAC;AAExD,MAAM,YAAY,GAAG,IAAA,YAAM,GAAE,CAAC,KAAK,CAAC;IAChC,IAAI,EAAE,UAAU;IAChB,KAAK,EAAE,WAAW;CACrB,CAAC,CAAC;AAEU,QAAA,iBAAiB,GAAG,IAAA,YAAM,GAAE,CAAC,KAAK,CAAC;IAC5C,IAAI,EAAE,IAAA,YAAM,GAAE,CAAC,QAAQ,EAAE;IACzB,IAAI,EAAE,UAAU;IAChB,IAAI,EAAE,UAAU;IAChB,OAAO,EAAE,IAAA,WAAK,GAAE,CAAC,EAAE,CAAC,YAAY,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,QAAQ,EAAE;CAC7D,CAAC,CAAC;AAEU,QAAA,qBAAqB,GAAG,IAAA,YAAM,GAAE,CAAC,KAAK,CAAC;IAChD,IAAI,EAAE,IAAA,YAAM,GAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,QAAQ,EAAE;CAC7C,CAAC,CAAC;AAEU,QAAA,uBAAuB,GAAG,IAAA,YAAM,GAAE,CAAC,KAAK,CAAC;IAClD,SAAS,EAAE,IAAA,YAAM,GAAE,CAAC,QAAQ,EAAE;IAC9B,QAAQ,EAAE,IAAA,YAAM,GAAE,CAAC,QAAQ,EAAE;CAChC,CAAC,CAAC;AAEU,QAAA,kBAAkB,GAAG,IAAA,YAAM,GAAE,CAAC,KAAK,CAAC;IAC7C,OAAO,EAAE,IAAA,aAAO,GAAE,CAAC,QAAQ,EAAE;CAChC,CAAC,CAAC","sourcesContent":["\nimport { array, boolean, number, object, string } from 'yup';\nimport { PokemonType } from \"../common/models/pokemon-model\";\n\nconst lifeSchema = number().min(1).max(9999).required();\nconst typeSchema = string().required().oneOf(Object.values(PokemonType));\nconst powerSchema = number().min(0).max(100).required();\n\nconst attackSchema = object().shape({\n    type: typeSchema,\n    power: powerSchema,\n});\n\nexport const SavePokemonSchema = object().shape({\n    name: string().required(),\n    type: typeSchema,\n    life: lifeSchema,\n    attacks: array().of(attackSchema).min(1).max(4).required()\n});\n\nexport const EditPokemonLifeSchema = object().shape({\n    life: number().min(0).max(9999).required()\n});\n\nexport const SendPokemonAttackSchema = object().shape({\n    pokemonId: number().required(),\n    attackId: number().required()\n});\n\nexport const FinishBattleSchema = object().shape({\n    victory: boolean().required()\n});"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"e447b132abaac529fe801b59df5731f66774983e","contentHash":"5f54045a41d82e319132552e33b400b9290c69344997d2f0c630645d1b4b8894"},"/Users/rmainier/Documents/u/pokemon/pokemon-backend/src/common/models/pokemon-model.ts":{"path":"/Users/rmainier/Documents/u/pokemon/pokemon-backend/src/common/models/pokemon-model.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":53}},"2":{"start":{"line":5,"column":0},"end":{"line":10,"column":68}},"3":{"start":{"line":6,"column":4},"end":{"line":6,"column":34}},"4":{"start":{"line":7,"column":4},"end":{"line":7,"column":36}},"5":{"start":{"line":8,"column":4},"end":{"line":8,"column":37}},"6":{"start":{"line":9,"column":4},"end":{"line":9,"column":34}},"7":{"start":{"line":12,"column":0},"end":{"line":17,"column":74}},"8":{"start":{"line":13,"column":4},"end":{"line":13,"column":44}},"9":{"start":{"line":14,"column":4},"end":{"line":14,"column":46}},"10":{"start":{"line":15,"column":4},"end":{"line":15,"column":44}},"11":{"start":{"line":16,"column":4},"end":{"line":16,"column":45}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":5,"column":1},"end":{"line":5,"column":2}},"loc":{"start":{"line":5,"column":24},"end":{"line":10,"column":1}},"line":5},"1":{"name":"(anonymous_1)","decl":{"start":{"line":12,"column":1},"end":{"line":12,"column":2}},"loc":{"start":{"line":12,"column":26},"end":{"line":17,"column":1}},"line":12}},"branchMap":{"0":{"loc":{"start":{"line":10,"column":17},"end":{"line":10,"column":66}},"type":"binary-expr","locations":[{"start":{"line":10,"column":17},"end":{"line":10,"column":36}},{"start":{"line":10,"column":41},"end":{"line":10,"column":65}}],"line":10},"1":{"loc":{"start":{"line":17,"column":19},"end":{"line":17,"column":72}},"type":"binary-expr","locations":[{"start":{"line":17,"column":19},"end":{"line":17,"column":40}},{"start":{"line":17,"column":45},"end":{"line":17,"column":71}}],"line":17}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1},"f":{"0":1,"1":1},"b":{"0":[1,1],"1":[1,1]},"inputSourceMap":{"version":3,"file":"/Users/rmainier/Documents/u/pokemon/pokemon-backend/src/common/models/pokemon-model.ts","sources":["/Users/rmainier/Documents/u/pokemon/pokemon-backend/src/common/models/pokemon-model.ts"],"names":[],"mappings":";;;AAcA,IAAY,WAKX;AALD,WAAY,WAAW;IACrB,6BAAc,CAAA;IACd,+BAAgB,CAAA;IAChB,gCAAiB,CAAA;IACjB,6BAAc,CAAA;AAChB,CAAC,EALW,WAAW,GAAX,mBAAW,KAAX,mBAAW,QAKtB;AAED,IAAY,aAKX;AALD,WAAY,aAAa;IACvB,uCAAsB,CAAA;IACtB,yCAAwB,CAAA;IACxB,uCAAsB,CAAA;IACtB,wCAAuB,CAAA;AACzB,CAAC,EALW,aAAa,GAAb,qBAAa,KAAb,qBAAa,QAKxB","sourcesContent":["\nexport interface Pokemon {\n  id: number;\n  name: string;\n  type: PokemonType;\n  life: number;\n  attacks?: PokemonAttack[];\n}\n\nexport interface PokemonAttack {\n  type: PokemonType;\n  power: number;\n}\n\nexport enum PokemonType {\n  Fire = \"fuego\",\n  Grass = \"planta\",\n  Normal = \"normal\",\n  Water = \"agua\",\n}\n\nexport enum PokemonStatus {\n  Attacking = \"atacando\",\n  Available = \"disponible\",\n  Defeated = 'derrotado',\n  InBattle = \"en-batalla\"\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"9b6e568b61b22064036f82a5512c3e3ba42e38b0","contentHash":"bc94ab79dafe6d21fe81d6042b52c501cd27576f5ecff24971b89ce3e6c2ddfc"},"/Users/rmainier/Documents/u/pokemon/pokemon-backend/src/common/constants/text-constants.ts":{"path":"/Users/rmainier/Documents/u/pokemon/pokemon-backend/src/common/constants/text-constants.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":68}},"2":{"start":{"line":4,"column":0},"end":{"line":4,"column":24}},"3":{"start":{"line":5,"column":0},"end":{"line":5,"column":28}},"4":{"start":{"line":6,"column":0},"end":{"line":6,"column":47}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"/Users/rmainier/Documents/u/pokemon/pokemon-backend/src/common/constants/text-constants.ts","sources":["/Users/rmainier/Documents/u/pokemon/pokemon-backend/src/common/constants/text-constants.ts"],"names":[],"mappings":";;;AAEa,QAAA,KAAK,GAAG,OAAO,CAAC;AAChB,QAAA,OAAO,GAAG,SAAS,CAAC;AAEpB,QAAA,gBAAgB,GAAG,mBAAmB,CAAC","sourcesContent":["\n\nexport const ERROR = 'error';\nexport const SUCCESS = 'success';\n\nexport const VALIDATION_ERROR = 'Validation error.';"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"b22099167cb5431533f14ee56f1cd100d2a6300d","contentHash":"fd36a754222f933dc9f2eaee00dc35ca8427e47a0f20fe5de666868b81dc12fa"},"/Users/rmainier/Documents/u/pokemon/pokemon-backend/src/helpers/logger.ts":{"path":"/Users/rmainier/Documents/u/pokemon/pokemon-backend/src/helpers/logger.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":0},"end":{"line":6,"column":48}},"4":{"start":{"line":7,"column":13},"end":{"line":7,"column":43}},"5":{"start":{"line":8,"column":15},"end":{"line":8,"column":47}},"6":{"start":{"line":9,"column":25},"end":{"line":9,"column":70}},"7":{"start":{"line":10,"column":20},"end":{"line":20,"column":1}},"8":{"start":{"line":11,"column":19},"end":{"line":14,"column":5}},"9":{"start":{"line":15,"column":4},"end":{"line":16,"column":29}},"10":{"start":{"line":16,"column":8},"end":{"line":16,"column":29}},"11":{"start":{"line":17,"column":19},"end":{"line":17,"column":38}},"12":{"start":{"line":18,"column":4},"end":{"line":18,"column":38}},"13":{"start":{"line":19,"column":4},"end":{"line":19,"column":75}},"14":{"start":{"line":21,"column":0},"end":{"line":21,"column":34}},"15":{"start":{"line":22,"column":17},"end":{"line":33,"column":1}},"16":{"start":{"line":23,"column":20},"end":{"line":23,"column":76}},"17":{"start":{"line":24,"column":17},"end":{"line":24,"column":44}},"18":{"start":{"line":25,"column":4},"end":{"line":32,"column":7}},"19":{"start":{"line":26,"column":8},"end":{"line":31,"column":9}},"20":{"start":{"line":27,"column":12},"end":{"line":27,"column":53}},"21":{"start":{"line":30,"column":12},"end":{"line":30,"column":48}},"22":{"start":{"line":34,"column":0},"end":{"line":34,"column":28}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":10,"column":20},"end":{"line":10,"column":21}},"loc":{"start":{"line":10,"column":59},"end":{"line":20,"column":1}},"line":10},"2":{"name":"(anonymous_2)","decl":{"start":{"line":22,"column":17},"end":{"line":22,"column":18}},"loc":{"start":{"line":22,"column":36},"end":{"line":33,"column":1}},"line":22},"3":{"name":"(anonymous_3)","decl":{"start":{"line":25,"column":61},"end":{"line":25,"column":62}},"loc":{"start":{"line":25,"column":72},"end":{"line":32,"column":5}},"line":25}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":12,"column":16},"end":{"line":12,"column":75}},"type":"cond-expr","locations":[{"start":{"line":12,"column":26},"end":{"line":12,"column":50}},{"start":{"line":12,"column":53},"end":{"line":12,"column":75}}],"line":12},"4":{"loc":{"start":{"line":15,"column":4},"end":{"line":16,"column":29}},"type":"if","locations":[{"start":{"line":15,"column":4},"end":{"line":16,"column":29}},{"start":{"line":15,"column":4},"end":{"line":16,"column":29}}],"line":15},"5":{"loc":{"start":{"line":17,"column":19},"end":{"line":17,"column":38}},"type":"cond-expr","locations":[{"start":{"line":17,"column":29},"end":{"line":17,"column":32}},{"start":{"line":17,"column":35},"end":{"line":17,"column":38}}],"line":17},"6":{"loc":{"start":{"line":26,"column":8},"end":{"line":31,"column":9}},"type":"if","locations":[{"start":{"line":26,"column":8},"end":{"line":31,"column":9}},{"start":{"line":26,"column":8},"end":{"line":31,"column":9}}],"line":26}},"s":{"0":1,"1":2,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":2,"17":2,"18":2,"19":2,"20":1,"21":1,"22":1},"f":{"0":2,"1":1,"2":2,"3":2},"b":{"0":[1,1,1],"1":[0,2],"2":[2,2],"3":[0,1],"4":[1,0],"5":[0,1],"6":[1,1]},"inputSourceMap":{"version":3,"file":"/Users/rmainier/Documents/u/pokemon/pokemon-backend/src/helpers/logger.ts","sources":["/Users/rmainier/Documents/u/pokemon/pokemon-backend/src/helpers/logger.ts"],"names":[],"mappings":";;;;;;AAEA,4CAAoB;AACpB,gDAAwB;AACxB,uEAAoE;AAE7D,MAAM,WAAW,GAAG,KAAK,EAC9B,GAAa,EACb,OAAgB,EAChB,OAAe,EACf,IAAa,EACE,EAAE;IACjB,IAAI,QAAQ,GAAsB;QAChC,MAAM,EAAE,OAAO,CAAC,CAAC,CAAC,wBAAO,CAAC,CAAC,CAAC,sBAAK;QACjC,OAAO,EAAE,OAAO;KACjB,CAAC;IAEF,IAAI,IAAI;QAAE,QAAQ,CAAC,IAAI,GAAG,IAAI,CAAC;IAE/B,MAAM,MAAM,GAAG,OAAO,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC;IAEnC,GAAG,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;IAClC,MAAM,IAAA,gBAAQ,EAAC,aAAa,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;AAC5D,CAAC,CAAC;AAjBW,QAAA,WAAW,eAiBtB;AAEK,MAAM,QAAQ,GAAG,KAAK,EAAE,OAAe,EAAiB,EAAE;IAC/D,MAAM,OAAO,GAAG,cAAI,CAAC,IAAI,CAAC,SAAS,EAAE,wBAAwB,CAAC,CAAC;IAC/D,MAAM,IAAI,GAAG,IAAI,IAAI,EAAE,CAAC,cAAc,EAAE,CAAC;IAEzC,YAAE,CAAC,UAAU,CAAC,OAAO,EAAE,IAAI,IAAI,KAAK,OAAO,EAAE,EAAE,CAAC,KAAK,EAAE,EAAE;QACvD,IAAI,KAAK,EAAE;YACT,OAAO,CAAC,GAAG,CAAC,2BAA2B,CAAC,CAAC;SAC1C;aACI;YACH,OAAO,CAAC,GAAG,CAAC,sBAAsB,CAAC,CAAC;SACrC;IACH,CAAC,CAAC,CAAC;AACL,CAAC,CAAC;AAZW,QAAA,QAAQ,YAYnB","sourcesContent":["import { Response } from \"express\";\nimport { ResponseLogObject } from \"../common/models/request-model\";\nimport fs from \"fs\";\nimport path from \"path\";\nimport { ERROR, SUCCESS } from \"../common/constants/text-constants\";\n\nexport const logResponse = async (\n  res: Response,\n  success: boolean,\n  message: string,\n  data?: object\n): Promise<void> => {\n  let response: ResponseLogObject = {\n    status: success ? SUCCESS : ERROR,\n    message: message\n  };\n\n  if (data) response.data = data;\n\n  const status = success ? 200 : 400;\n\n  res.status(status).send(response);\n  await writeLog(`RESPONSE: ${JSON.stringify(response)}\\n`);\n};\n\nexport const writeLog = async (message: string): Promise<void> => {\n  const logFile = path.join(__dirname, \"../../src/logs/log.txt\");\n  const date = new Date().toLocaleString();\n\n  fs.appendFile(logFile, `(${date}) ${message}`, (error) => { \n    if (error) { \n      console.log(\"Error writing on log file\"); \n    } \n    else { \n      console.log(\"Log has been updated\");\n    } \n  }); \n};\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"6033a415cc84dca74c4d902c8bcc0f0df1f843a7","contentHash":"4ae91e0d819148dd0a6bbe787f9dffbb1b63bd40d7aa9a61912b684c6e740b3f"},"/Users/rmainier/Documents/u/pokemon/pokemon-backend/src/services/pokemon-service.ts":{"path":"/Users/rmainier/Documents/u/pokemon/pokemon-backend/src/services/pokemon-service.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":32}},"2":{"start":{"line":4,"column":18},"end":{"line":4,"column":53}},"3":{"start":{"line":7,"column":8},"end":{"line":7,"column":41}},"4":{"start":{"line":10,"column":8},"end":{"line":10,"column":44}},"5":{"start":{"line":13,"column":8},"end":{"line":13,"column":49}},"6":{"start":{"line":16,"column":8},"end":{"line":16,"column":46}},"7":{"start":{"line":19,"column":8},"end":{"line":19,"column":40}},"8":{"start":{"line":22,"column":8},"end":{"line":22,"column":42}},"9":{"start":{"line":25,"column":8},"end":{"line":25,"column":41}},"10":{"start":{"line":28,"column":8},"end":{"line":28,"column":44}},"11":{"start":{"line":31,"column":0},"end":{"line":31,"column":40}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":6,"column":4},"end":{"line":6,"column":5}},"loc":{"start":{"line":6,"column":24},"end":{"line":8,"column":5}},"line":6},"1":{"name":"(anonymous_1)","decl":{"start":{"line":9,"column":4},"end":{"line":9,"column":5}},"loc":{"start":{"line":9,"column":31},"end":{"line":11,"column":5}},"line":9},"2":{"name":"(anonymous_2)","decl":{"start":{"line":12,"column":4},"end":{"line":12,"column":5}},"loc":{"start":{"line":12,"column":31},"end":{"line":14,"column":5}},"line":12},"3":{"name":"(anonymous_3)","decl":{"start":{"line":15,"column":4},"end":{"line":15,"column":5}},"loc":{"start":{"line":15,"column":32},"end":{"line":17,"column":5}},"line":15},"4":{"name":"(anonymous_4)","decl":{"start":{"line":18,"column":4},"end":{"line":18,"column":5}},"loc":{"start":{"line":18,"column":30},"end":{"line":20,"column":5}},"line":18},"5":{"name":"(anonymous_5)","decl":{"start":{"line":21,"column":4},"end":{"line":21,"column":5}},"loc":{"start":{"line":21,"column":36},"end":{"line":23,"column":5}},"line":21},"6":{"name":"(anonymous_6)","decl":{"start":{"line":24,"column":4},"end":{"line":24,"column":5}},"loc":{"start":{"line":24,"column":31},"end":{"line":26,"column":5}},"line":24},"7":{"name":"(anonymous_7)","decl":{"start":{"line":27,"column":4},"end":{"line":27,"column":5}},"loc":{"start":{"line":27,"column":38},"end":{"line":29,"column":5}},"line":27}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":2,"6":1,"7":10,"8":4,"9":3,"10":1,"11":1},"f":{"0":1,"1":1,"2":2,"3":1,"4":10,"5":4,"6":3,"7":1},"b":{},"inputSourceMap":{"version":3,"file":"/Users/rmainier/Documents/u/pokemon/pokemon-backend/src/services/pokemon-service.ts","sources":["/Users/rmainier/Documents/u/pokemon/pokemon-backend/src/services/pokemon-service.ts"],"names":[],"mappings":";;;AAAA,sDAAmD;AAGnD,MAAa,cAAc;IACzB,MAAM,CAAC,UAAU;QACf,OAAO,iBAAO,CAAC,OAAO,CAAC;IACzB,CAAC;IAED,MAAM,CAAC,UAAU,CAAC,OAAgB;QAChC,iBAAO,CAAC,OAAO,GAAG,OAAO,CAAC;IAC5B,CAAC;IAED,MAAM,CAAC,iBAAiB;QACtB,OAAO,iBAAO,CAAC,OAAO,CAAC,OAAO,CAAC;IACjC,CAAC;IAED,MAAM,CAAC,cAAc,CAAC,IAAY;QAChC,iBAAO,CAAC,OAAO,CAAC,IAAI,GAAG,IAAI,CAAC;IAC9B,CAAC;IAED,MAAM,CAAC,gBAAgB;QACrB,OAAO,iBAAO,CAAC,MAAM,CAAC;IACxB,CAAC;IAED,MAAM,CAAC,gBAAgB,CAAC,MAAqB;QAC3C,iBAAO,CAAC,MAAM,GAAG,MAAM,CAAC;IAC1B,CAAC;IAED,MAAM,CAAC,iBAAiB;QACtB,OAAO,iBAAO,CAAC,OAAO,CAAC;IACzB,CAAC;IAED,MAAM,CAAC,iBAAiB,CAAC,OAAkB;QACzC,iBAAO,CAAC,OAAO,GAAG,OAAO,CAAC;IAC5B,CAAC;CACF;AAhCD,wCAgCC","sourcesContent":["import { Context } from \"../common/config/context\";\nimport { Pokemon, PokemonStatus } from \"../common/models/pokemon-model\";\n\nexport class PokemonService {\n  static getPokemon() {\n    return Context.POKEMON;\n  }\n\n  static setPokemon(pokemon: Pokemon) {\n    Context.POKEMON = pokemon;\n  }\n\n  static getPokemonAttacks() {\n    return Context.POKEMON.attacks;\n  }\n\n  static setPokemonLife(life: number) {\n    Context.POKEMON.life = life;\n  }\n\n  static getPokemonStatus() {\n    return Context.STATUS;\n  }\n\n  static setPokemonStatus(status: PokemonStatus) {\n    Context.STATUS = status;\n  }\n\n  static getPokemonEnemies() {\n    return Context.ENEMIES;\n  }\n\n  static setPokemonEnemies(enemies: Pokemon[]) {\n    Context.ENEMIES = enemies;\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"866d25b1cd8b054ee012ce07ea72b38bf2c87a38","contentHash":"2aeb81faa0665d0af843f9aa4f9a66d9c68dd20b88f028bc1feeb73799ee8cfe"},"/Users/rmainier/Documents/u/pokemon/pokemon-backend/src/common/config/context.ts":{"path":"/Users/rmainier/Documents/u/pokemon/pokemon-backend/src/common/config/context.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":25}},"2":{"start":{"line":4,"column":24},"end":{"line":4,"column":58}},"3":{"start":{"line":10,"column":8},"end":{"line":16,"column":10}},"4":{"start":{"line":17,"column":8},"end":{"line":32,"column":15}},"5":{"start":{"line":33,"column":8},"end":{"line":33,"column":65}},"6":{"start":{"line":36,"column":0},"end":{"line":36,"column":26}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":9,"column":4},"end":{"line":9,"column":5}},"loc":{"start":{"line":9,"column":24},"end":{"line":34,"column":5}},"line":9}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":3,"4":3,"5":3,"6":1},"f":{"0":3},"b":{},"inputSourceMap":{"version":3,"file":"/Users/rmainier/Documents/u/pokemon/pokemon-backend/src/common/config/context.ts","sources":["/Users/rmainier/Documents/u/pokemon/pokemon-backend/src/common/config/context.ts"],"names":[],"mappings":";;;AAAA,2DAA8E;AAE9E,MAAa,OAAO;IAChB,MAAM,CAAC,OAAO,CAAU;IACxB,MAAM,CAAC,OAAO,CAAY;IAC1B,MAAM,CAAC,MAAM,CAA4B;IAEzC,MAAM,CAAC,UAAU;QACb,OAAO,CAAC,OAAO,GAAG;YACd,EAAE,EAAE,CAAC;YACL,IAAI,EAAE,YAAY;YAClB,IAAI,EAAE,2BAAW,CAAC,MAAM;YACxB,IAAI,EAAE,CAAC;YACP,OAAO,EAAE,EAAE;SACd,CAAC;QACF,OAAO,CAAC,OAAO,GAAG,CAAC;gBACf,EAAE,EAAE,CAAC;gBACL,IAAI,EAAE,WAAW;gBACjB,IAAI,EAAE,2BAAW,CAAC,KAAK;gBACvB,IAAI,EAAE,IAAI;aACb,EAAC;gBACE,EAAE,EAAE,CAAC;gBACL,IAAI,EAAE,UAAU;gBAChB,IAAI,EAAE,2BAAW,CAAC,KAAK;gBACvB,IAAI,EAAE,IAAI;aACb,EAAC;gBACE,EAAE,EAAE,CAAC;gBACL,IAAI,EAAE,SAAS;gBACf,IAAI,EAAE,2BAAW,CAAC,MAAM;gBACxB,IAAI,EAAE,IAAI;aACb,CAAC,CAAC;QACH,OAAO,CAAC,MAAM,GAAG,6BAAa,CAAC,SAAS,CAAC;IAC7C,CAAC;CACJ;AA/BD,0BA+BC","sourcesContent":["import { Pokemon, PokemonStatus, PokemonType } from \"../models/pokemon-model\";\n\nexport class Context {\n    static POKEMON: Pokemon;\n    static ENEMIES: Pokemon[];\n    static STATUS: PokemonStatus | undefined;\n\n    static initialize() {\n        Context.POKEMON = {\n            id: 0,\n            name: \"Sin nombre\",\n            type: PokemonType.Normal,\n            life: 0,\n            attacks: []\n        };\n        Context.ENEMIES = [{\n            id: 4,\n            name: 'Blastoise',\n            type: PokemonType.Water,\n            life: 1000\n        },{\n            id: 7,\n            name: 'Venasaur',\n            type: PokemonType.Grass,\n            life: 1000\n        },{\n            id: 9,\n            name: 'Nidoran',\n            type: PokemonType.Normal,\n            life: 1000\n        }];\n        Context.STATUS = PokemonStatus.Available;\n    }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"b3df0d4ae0c3c00b530a69b92b2b37562580e17d","contentHash":"0014ba6567aeaa15a5042508d22e6be05cbe8b8292f9e7fb62a36475c1bcb938"},"/Users/rmainier/Documents/u/pokemon/pokemon-backend/src/middlewares/logger.ts":{"path":"/Users/rmainier/Documents/u/pokemon/pokemon-backend/src/middlewares/logger.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":24}},"2":{"start":{"line":4,"column":17},"end":{"line":4,"column":45}},"3":{"start":{"line":7,"column":8},"end":{"line":27,"column":10}},"4":{"start":{"line":8,"column":12},"end":{"line":26,"column":13}},"5":{"start":{"line":9,"column":31},"end":{"line":9,"column":41}},"6":{"start":{"line":10,"column":34},"end":{"line":13,"column":17}},"7":{"start":{"line":14,"column":16},"end":{"line":19,"column":17}},"8":{"start":{"line":15,"column":20},"end":{"line":15,"column":50}},"9":{"start":{"line":18,"column":20},"end":{"line":18,"column":46}},"10":{"start":{"line":20,"column":16},"end":{"line":20,"column":82}},"11":{"start":{"line":22,"column":16},"end":{"line":22,"column":30}},"12":{"start":{"line":25,"column":16},"end":{"line":25,"column":80}},"13":{"start":{"line":30,"column":0},"end":{"line":30,"column":24}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":6,"column":4},"end":{"line":6,"column":5}},"loc":{"start":{"line":6,"column":17},"end":{"line":28,"column":5}},"line":6},"1":{"name":"(anonymous_1)","decl":{"start":{"line":7,"column":15},"end":{"line":7,"column":16}},"loc":{"start":{"line":7,"column":41},"end":{"line":27,"column":9}},"line":7}},"branchMap":{"0":{"loc":{"start":{"line":14,"column":16},"end":{"line":19,"column":17}},"type":"if","locations":[{"start":{"line":14,"column":16},"end":{"line":19,"column":17}},{"start":{"line":14,"column":16},"end":{"line":19,"column":17}}],"line":14}},"s":{"0":1,"1":1,"2":1,"3":3,"4":3,"5":3,"6":3,"7":3,"8":1,"9":2,"10":3,"11":2,"12":1,"13":1},"f":{"0":3,"1":3},"b":{"0":[1,2]},"inputSourceMap":{"version":3,"file":"/Users/rmainier/Documents/u/pokemon/pokemon-backend/src/middlewares/logger.ts","sources":["/Users/rmainier/Documents/u/pokemon/pokemon-backend/src/middlewares/logger.ts"],"names":[],"mappings":";;;AACA,8CAA0D;AAG1D,MAAa,MAAM;IACjB,UAAU;QACR,OAAO,KAAK,EAAE,GAAQ,EAAE,GAAQ,EAAE,IAAkB,EAAE,EAAE;YACtD,IAAI;gBACF,MAAM,MAAM,GAAG,GAAG,CAAC,MAAM,CAAC;gBAE1B,MAAM,SAAS,GAAqB;oBAClC,GAAG,EAAE,GAAG,CAAC,GAAG;oBACZ,MAAM;iBACP,CAAC;gBAEF,IAAI,MAAM,KAAK,KAAK,EAAE;oBACpB,SAAS,CAAC,MAAM,GAAG,GAAG,CAAC,MAAM,CAAC;iBAC/B;qBAAM;oBACL,SAAS,CAAC,IAAI,GAAG,GAAG,CAAC,IAAI,CAAC;iBAC3B;gBAEF,IAAA,iBAAQ,EAAC,YAAY,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;gBACpD,gCAAgC;gBAC/B,OAAO,IAAI,EAAE,CAAC;aACf;YAAC,OAAO,GAAG,EAAE;gBACZ,IAAA,oBAAW,EAAC,GAAG,EAAE,KAAK,EAAE,wBAAwB,CAAC,CAAC;aACnD;QACH,CAAC,CAAC;IACJ,CAAC;CACF;AAzBD,wBAyBC","sourcesContent":["import { NextFunction } from \"express\";\nimport { logResponse, writeLog } from \"../helpers/logger\";\nimport { RequestLogObject } from \"../common/models/request-model\";\n\nexport class Logger {\n  logRequest() {\n    return async (req: any, res: any, next: NextFunction) => {\n      try {\n        const method = req.method;\n\n        const logObject: RequestLogObject = {\n          url: req.url,\n          method\n        };\n\n        if (method === \"GET\") {\n          logObject.params = req.params;\n        } else {\n          logObject.body = req.body;\n        }\n        \n       writeLog(`REQUEST: ${JSON.stringify(logObject)}\\n`);\n       // TODO: Descomentar el writeLog\n        return next();\n      } catch (err) {\n        logResponse(res, false, \"Internal server error.\");\n      }\n    };\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"f4f27906546b6ea3d929f03fb7c131940005fa08","contentHash":"84824588d43ad9cf740b002ea6ad7dece7b190b05e03b3ed530f9d381f8cc408"}}